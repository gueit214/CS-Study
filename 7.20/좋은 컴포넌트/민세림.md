# 좋은 컴포넌트

## 1. 컴포넌트

- 독립적인 단위 모듈
- React의 경우, 컴포넌트를 여러개 만들고 이걸 조합해서 하나의 페이지를 만듦.

## 2. 컴포넌트를 만드는 방법

### 2.1 공통 컴포넌트

- **공통 컴포넌트들을 먼저 구현**하면 큰 컴포넌트를 만들 때 훨씬 편하게 구현할 수 있음
- 디자인 컴포넌트
- 스토리북을 이용하여 UI 테스트를 진행하기도 함

### 2.2 공통 컴포넌트의 필요성

- 개발을 설계할 때는 작고 독립적인 단위부터 개발해야 함.
- 작은 단위로 쪼개서 생각을 해야함.

### 2.3 컴포넌트에서 데이터를 다루는 방법

2.3.1 비동기 처리

- 직접 API 통신 (fetch, axios)
    - 발생할 수 있는 문제 : 뷰에서 데이터 처리를 같이 하는 것, 로딩 에러처리를 일일히 처리해야되는 것, 캐싱 무한 스크롤등의 기능이 없는 것, url이 컴포넌트에 의존적인 것 등
- 리덕스 미들웨어
- 리액트 쿼리

⇒ 역할 분리

- 복잡하지 않고 간단하게
- 코드량이 적으면서 어렵지 않은 코드

2.3.2 전역 상태관리

2.3.3 presentation component와 container component

2.3.4 커스텀훅

- 컴포넌트를 잘 만들기 위해서는 커스텀훅을 잘 만들어야 함
- 컴포넌트에서 데이터를 다루는 부분이 복잡해지게 되면 항상 커스텀훅으로 뺄 수 있는지 생각해 볼 필요가 있음

## 3. 컴포넌트의 역할과 책임

### 3.1 내부 데이터

- state

### 3.2 외부 데이터

- props
- 외부 데이터 : 서버 데이터, 로컬 데이터, 쿠키 데이터, 상위 컴포넌트 데이터, 전역 상태 데이터 등

### 3.3 이벤트

- 내부데이터 혹은 외부데이터를 다룸

### 3.4 UI

- 컴포넌트의 데이터(정적인 데이터 포함)를 렌더링해여 화면에 보여줌

## 4. **컴포넌트를 잘 만드는 방법**

### 4.1 **컴포넌트 어떻게 나눌것인가**

- 독립적인 컴포넌트 나누기
- 데이터로 나누기
    - 독립적인 컴포넌트 나누기 단점
        - 너무 나누면 응집도가 떨어짐
        - 너무 나누지 않으면 결합도가 떨어짐
        - 데이터가 포함되어 있지 않은 정적 컴포넌트라면 비교적 쉽지만 데이터가 포함되어 있다면 나누는 기준이 더 모호해짐
- 역할 책임으로 나누기

### 4.2 인터페이스

- 소통을 위해 만들어짐

> **컴포넌트의 인터페이스**
> 
> 1. 인터페이스는 **사용하는 쪽**을 위한 것이다.
> 2. 컴포넌트를 사용하는 쪽에선 인터페이스를 보고 어떻게 동작할지 **예상 가능**해야 한다.
> 
> **‘일반적인’ 인터페이스**란 구체적으로 다음 두 가지를 의미한다.
> 
> 1. 특정 도메인에 대한 맥락을 가지고 있지 않아서 어느 도메인에서든 사용할 수 있는 인터페이스
> 2. 사용하는 입장에서 내부를 보지 않고도 이 컴포넌트의 역할을 이해할 수 있는 인터페이스

참고 자료 : https://ms3864.tistory.com/433