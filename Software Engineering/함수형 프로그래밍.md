# 함수형 프로그래밍

## 프로그래밍 패러다임

프로그래밍 패러다임 : 프로그래머에게 프로그래밍의 관점을 갖게 하고, 코드를 어떻게 작성할 지 결정하는 역할

- 명령형 프로그래밍 : 어떻게 할 것인지(HOW)를 설명하는 방식
  - `for`, `if`, `while` 등의 제어문을 사용
  1. 절차지향 프로그래밍: 수행되어야 할 순차적인 `처리 과정`을 포함하는 방식 (C, C++)
  2. 객체지향 프로그래밍: `객체들의 집합`으로 프로그램의 상호작용을 표현 (C++, Java, C#)
- <a name='section1'>선언형 프로그래밍</a> : 무엇(What)을 할 건지를 설명하는 방식
  - `filter`, `map`, `reduce` 등 함수형 코드 사용
  1. 함수형 프로그래밍: `순수 함수를 조합`하고 소프트웨어를 만드는 방식 (클로저, 하스켈, 리스프)

## 함수형 프로그래밍이란?

함수형 프로그래밍 : 하나의 프로그래밍 패러다임으로 정의되는 일련의 코딩 접근 방식이며, 자료처리를 수학적 함수의 계산으로 취급하고 상태와 가변 데이터를 멀리하는 프로그래밍 패러다임을 의미

- 기존 절차적 프로그래밍과 객체 지향적 프로그래밍과는 다른 새로운 방식
- 다양한 사고방식으로 프로그래밍을 바라보면 유연한 문제해결이 가능
- 대입문(e.g. `for(let i=0;i<5;i++)`)을 사용하지 않는 프로그래밍이며, 작은 문제를 해결하기 위한 함수를 작성

## 함수형 프로그래밍의 특징

1. 순수함수

   - 부수효과들을 제거한 함수
     ###### 부수효과 : 변수의 값이 변경됨 | 자료 구조를 제자리에서 수정 | 예외나 오류가 발생하여 실행이 중단됨 등
   - `동일한 입력에는 항상 같은 값을 반환`하는 함수
   - 함수의 실행이 프로그램의 실행에 영향을 미치지 않아야 하는 함수
   - 함수 내부에서 인자의 값을 변경하거나 프로그램 상태를 변경하는 side effect가 없는 함수

2. 비상태, 불변셩

   - `원본 데이터 구조를 변경하지 않고`, 그 데이터의 복사본을 만들어서 그 일부를 변경하고 변경한 복사본을 사용해 작업을 진행

3. [선언형 함수 (선언형 프로그래밍)](#section1)

4. 1급 객체와 고차함수
   - 1급 객체 : 함수를 변수에 `할당`하거나, 다른 함수의 `인자로 전달`하거나, 다른 함수의 결과값으로 `반환`할 수 있는 함수
   - 고차함수 : 함수를 `인자로 전달`하거나, 함수를 결과로 `반환`하는 함수

- 외우는 Tip : `불순고재`(불변셩 + 순수함수 + 고차함수 + 재귀함수)

## 함수형 프로그래밍의 장단점

장점

1.  높은 수준의 [`추상화`](https://velog.io/@kylee31/JS-%EC%B6%94%EC%83%81%ED%99%94-%EC%BA%A1%EC%8A%90%ED%99%94) 제공

    - ###### 추상화 : 특정 기능을 하는 그룹의 공통된 기능(프로퍼티와 메서드)을 정의하는 작업

2.  함수 단위의 `코드 재사용`이 수월
3.  불변성을 지향하기 때문에 프로그램의 동작을 예측하기 수월함

단점

1.  순수함수를 구현하기 위해서는 `코드의 가독성`이 안좋아질 수 있음
2.  함수형 프로그래밍에서는 반복이 for문이 아닌 재귀를 통해 이루어지는데 (deep copy), 재귀적 코드 스타일은 `무한 루프`에 빠질 수 있음
3.  순수함수를 사용하는 것은 쉬울 수 있지만 `조합하는 것은 쉽지 않다`

### 정리

- 함수형 프로그래밍 : 부수 효과가 없는 `순수 함수`를 `1급 객체`로 간주하여 `파라미터나 반환값으로 사용`할 수 있다.
- 명령형 프로그래밍과 함수형 프로그래밍에서 사용하는 함수는 `부수효과의 유/무`에 따라 차이가 있다.

### 예시(Javascript)

1.

```js
var arr = [1, 2, 3, 4, 5];
var map = arr.map(function (x) {
  return x * 2;
}); // [2, 4, 6, 8, 10]
```

- map 함수 : arr는 사용되었지만 값은 변경되지 않음(불변성) + map은 결과를 내고 아무런 부작용도 낳지 않음(side effect X = 순수함수) => 순수함수 O

2.

```js
var arr = [1, 2, 3, 4, 5];
var condition = function (x) {
  return x % 2 === 0;
};
var ex = function (array) {
  return array.filter(condition);
};
ex(arr); // [2, 4]
```

- ex 함수 : 인자로 받지 않은 변수(condition)를 사용했기에 순수 함수 X

3.

```js
var ex = function (array, condition) {
  return array.filter(condition);
};
ex(arr, condition);
```

- condition 변수 또한 인자로 받음 -> 인자로 받는 변수만을 사용 -> 쉽게 에러 추적 가능 => 순수 함수 O

4.

```js
var sum = 0;
for (var i = 1; i <= 10; i++) {
  sum += i;
}
```

- 반복문이므로 순수 함수 X

5.

```js
function add(sum, count) {
  sum += count;
  if (count > 0) {
    return add(sum, count - 1);
  } else {
    return sum;
  }
}
add(0, 10); // 55
```

- add안에서 add를 호출 -> 재귀함수, 코드의 재사용성이 높아짐 -> 순수 함수 O

## Q&A

1. 화살표함수도 함수형 프로그래밍에 해당?

- Yes. 화살표 함수는 익명함수를 간결하게 표현하기 위해 사용되는 것이므로 함수형 프로그래밍에 해당한다.(기존 함수(함수 선언식)와 동일한 기능을 수행)
- 화살표 함수는 익명 함수를 간단하게 만들 수 있기 때문에 고차 함수나 순수 함수를 작성하는 데 편리하다.
- 고차 함수에서 콜백 함수를 정의하는 데 흔히 사용됨

e.g.

```js
let numbers = [1, 2, 3, 4, 5];

let doubled = numbers.map((number) => number * 2);

console.log(doubled); // [2, 4, 6, 8, 10]
```

- `map`은 고차 함수(함수를 인자로 저달하고, 함수를 반환함)
- `number => number * 2`는 콜백 함수
  ###### 콜백 함수 : 고차 함수의 인자로 전달되는 함수
- 이런 식으로 고차 함수의 매개변수로 사용되는 콜백 함수를 간결하게 작성하는 데 유리함

2. 추상화와 캡슐화의 차이

- 추상화와 캡슐화는 객체 지향의 특징 중 일부
- **추상화** : 데이터나 프로세스 등을 `의미가 비슷한 개념이나 의미 있는 표현으로 정의`하는 과정
  - `클래스` 구현 세부 사항과 동작을 분리하는 것을 목표로 함
- **캡슐화** : 변경 가능성이 높은 부분은 내부에 숨기고 `외부에는 상대적으로 안정적인 부분만 공개`함으로써 변경의 여파를 통제

### 참고

[함수형 프로그래밍](https://jongminfire.dev/%ED%95%A8%EC%88%98%ED%98%95-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EC%9D%B4%EB%9E%80)

[함수형 프로그래밍2](https://mangkyu.tistory.com/111)

[JS와 함수형 프로그래밍](https://www.zerocho.com/category/JavaScript/post/576cafb45eb04d4c1aa35078)

[화살표 함수와 함수형 프로그래밍](https://sharegpt.com/c/pCw8vO3)

[캡슐화 vs 추상화](https://velog.io/@ljinsk3/%EC%BA%A1%EC%8A%90%ED%99%94-vs-%EC%B6%94%EC%83%81%ED%99%94)
